dist: trusty

sudo: false

branches:
  only: master

language: ruby

cache:
  bundler: true
  directories:
    - /home/travis/.rvm/

git:
  depth: 3

addons:
  apt:
    packages:
      - libqt5webkit5-dev
      - qt5-default

services:
  - postgresql

env:
  - TEST_COMMAND=./bin/quality
  - TEST_COMMAND=./bin/setup
  - TEST_COMMAND=./bin/test

script:
  - $TEST_COMMAND
  - ./bin/changes
