!function(){var n={},t=function(t){for(var r=n[t],u=r.deps,o=r.defn,i=u.length,f=new Array(i),c=0;c<i;++c)f[c]=e(u[c]);var a=o.apply(null,f);if(void 0===a)throw"module ["+t+"] returned undefined";r.instance=a},r=function(t,r,e){if("string"!=typeof t)throw"module id must be a string";if(void 0===r)throw"no dependencies for "+t;if(void 0===e)throw"no definition function for "+t;n[t]={deps:r,defn:e,instance:void 0}},e=function(r){var e=n[r];if(void 0===e)throw"module ["+r+"] was undefined";return void 0===e.instance&&t(r),e.instance},u=function(n,t){for(var r=n.length,u=new Array(r),o=0;o<r;++o)u[o]=e(n[o]);t.apply(null,u)};({}).bolt={module:{api:{define:r,require:u,demand:e}}};var o=r,i=function(n,t){o(n,[],function(){return t})};o("1",[],function(){var n=function(t){var r=t,e=function(){return r};return{get:e,set:function(n){r=n},clone:function(){return n(e())}}};return n}),i("5",tinymce.util.Tools.resolve),o("2",["5"],function(n){return n("tinymce.PluginManager")}),o("3",[],function(){return{get:function(n){return{isContextMenuVisible:function(){return n.get()}}}}}),o("6",["5"],function(n){return n("tinymce.dom.DOMUtils")}),o("7",["5"],function(n){return n("tinymce.Env")}),o("8",[],function(){return{shouldNeverUseNative:function(n){return n.settings.contextmenu_never_use_native},getContextMenu:function(n){return n.getParam("contextmenu","link openlink image inserttable | cell row column deletetable")}}}),i("f",Array),i("g",Error),o("i",["f","g"],function(n,t){var r=function(){},e=function(n,t){return function(){return n(t.apply(null,arguments))}},u=function(n){return function(){return n}},o=function(n){return n},i=function(n,t){return n===t},f=function(t){for(var r=new n(arguments.length-1),e=1;e<arguments.length;e++)r[e-1]=arguments[e];return function(){for(var e=new n(arguments.length),u=0;u<e.length;u++)e[u]=arguments[u];var o=r.concat(e);return t.apply(null,o)}};return{noop:r,compose:e,constant:u,identity:o,tripleEquals:i,curry:f,not:function(n){return function(){return!n.apply(null,arguments)}},die:function(n){return function(){throw new t(n)}},apply:function(n){return n()},call:function(n){n()},never:u(!1),always:u(!0)}}),i("j",Object),o("e",["i","j"],function(n,t){var r=n.never,e=n.always,u=function(){return o},o=function(){var o=function(n){return n.isNone()},i=function(n){return n()},f=function(n){return n},c=function(){},a={fold:function(n){return n()},is:r,isSome:r,isNone:e,getOr:f,getOrThunk:i,getOrDie:function(n){throw new Error(n||"error: getOrDie called on none.")},or:f,orThunk:i,map:u,ap:u,each:c,bind:u,flatten:u,exists:r,forall:e,filter:u,equals:o,equals_:o,toArray:function(){return[]},toString:n.constant("none()")};return t.freeze&&t.freeze(a),a}(),i=function(n){var t=function(){return n},f=function(){return l},c=function(t){return i(t(n))},a=function(t){return t(n)},l={fold:function(t,r){return r(n)},is:function(t){return n===t},isSome:e,isNone:r,getOr:t,getOrThunk:t,getOrDie:t,or:f,orThunk:f,map:c,ap:function(t){return t.fold(u,function(t){return i(t(n))})},each:function(t){t(n)},bind:a,flatten:t,exists:a,forall:a,filter:function(t){return t(n)?l:o},equals:function(t){return t.is(n)},equals_:function(t,e){return t.fold(r,function(t){return e(n,t)})},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return l};return{some:i,none:u,from:function(n){return null===n||void 0===n?o:i(n)}}}),i("h",String),o("b",["e","f","g","h"],function(n,t,r,e){var u=function(){var n=t.prototype.indexOf,r=function(t,r){return n.call(t,r)},e=function(n,t){return x(n,t)};return void 0===n?e:r}(),o=function(t,r){var e=u(t,r);return-1===e?n.none():n.some(e)},i=function(n,t){return u(n,t)>-1},f=function(n,t){return w(n,t).isSome()},c=function(n,t){for(var r=[],e=0;e<n;e++)r.push(t(e));return r},a=function(n,t){for(var r=[],e=0;e<n.length;e+=t){var u=n.slice(e,e+t);r.push(u)}return r},l=function(n,r){for(var e=n.length,u=new t(e),o=0;o<e;o++){var i=n[o];u[o]=r(i,o,n)}return u},s=function(n,t){for(var r=0,e=n.length;r<e;r++){t(n[r],r,n)}},v=function(n,t){for(var r=n.length-1;r>=0;r--){t(n[r],r,n)}},h=function(n,t){for(var r=[],e=[],u=0,o=n.length;u<o;u++){var i=n[u];(t(i,u,n)?r:e).push(i)}return{pass:r,fail:e}},g=function(n,t){for(var r=[],e=0,u=n.length;e<u;e++){var o=n[e];t(o,e,n)&&r.push(o)}return r},p=function(n,t){if(0===n.length)return[];for(var r=t(n[0]),e=[],u=[],o=0,i=n.length;o<i;o++){var f=n[o],c=t(f);c!==r&&(e.push(u),u=[]),r=c,u.push(f)}return 0!==u.length&&e.push(u),e},d=function(n,t,r){return v(n,function(n){r=t(r,n)}),r},m=function(n,t,r){return s(n,function(n){r=t(r,n)}),r},y=function(t,r){for(var e=0,u=t.length;e<u;e++){var o=t[e];if(r(o,e,t))return n.some(o)}return n.none()},w=function(t,r){for(var e=0,u=t.length;e<u;e++){if(r(t[e],e,t))return n.some(e)}return n.none()},x=function(n,t){for(var r=0,e=n.length;r<e;++r)if(n[r]===t)return r;return-1},O=t.prototype.push,b=function(n){for(var e=[],u=0,o=n.length;u<o;++u){if(!t.prototype.isPrototypeOf(n[u]))throw new r("Arr.flatten item "+u+" was not an array, input: "+n);O.apply(e,n[u])}return e},T=function(n,t){var r=l(n,t);return b(r)},k=function(n,t){for(var r=0,e=n.length;r<e;++r){if(!0!==t(n[r],r,n))return!1}return!0},q=function(n,t){return n.length===t.length&&k(n,function(n,r){return n===t[r]})},A=t.prototype.slice;return{map:l,each:s,eachr:v,partition:h,filter:g,groupBy:p,indexOf:o,foldr:d,foldl:m,find:y,findIndex:w,flatten:b,bind:T,forall:k,exists:f,contains:i,equal:q,reverse:function(n){var t=A.call(n,0);return t.reverse(),t},chunk:a,difference:function(n,t){return g(n,function(n){return!i(t,n)})},mapToObject:function(n,t){for(var r={},u=0,o=n.length;u<o;u++){var i=n[u];r[e(i)]=t(i,u)}return r},pure:function(n){return[n]},sort:function(n,t){var r=A.call(n,0);return r.sort(t),r},range:c,head:function(t){return 0===t.length?n.none():n.some(t[0])},last:function(t){return 0===t.length?n.none():n.some(t[t.length-1])}}}),o("9",["b"],function(n){var t=function(n,t,r){return t>=n.left&&t<=n.right&&r>=n.top&&r<=n.bottom};return{isXYWithinRange:function(r,e,u){return!u.collapsed&&n.foldl(u.getClientRects(),function(n,u){return n||t(u,r,e)},!1)}}}),o("c",["5"],function(n){return n("tinymce.ui.Factory")}),o("d",["5"],function(n){return n("tinymce.util.Tools")}),o("a",["c","d","8"],function(n,t,r){var e=function(e,u){var o,i,f=[];i=r.getContextMenu(e),t.each(i.split(/[ ,]/),function(n){var t=e.menuItems[n];"|"===n&&(t={text:n}),t&&(t.shortcut="",f.push(t))});for(var c=0;c<f.length;c++)"|"===f[c].text&&(0!==c&&c!==f.length-1||f.splice(c,1));return o=n.create("menu",{items:f,context:"contextmenu",classes:"contextmenu"}).renderTo(),o.on("hide",function(n){n.control===this&&u.set(!1)}),e.on("remove",function(){o.remove(),o=null}),o};return{show:function(n,t,r,u,o){null===o.get()?o.set(e(n,u)):o.get().show(),o.get().moveTo(t,r),u.set(!0)}}}),o("4",["6","7","8","9","a"],function(n,t,r,e,u){var o=function(n,t){return t.ctrlKey&&!r.shouldNeverUseNative(n)};return{setup:function(t,r,e){t.on("contextmenu",function(i){var f=i.pageX,c=i.pageY;if(!t.inline){var a=n.DOM.getPos(t.getContentAreaContainer());f=a.x+i.clientX,c=a.y+i.clientY}o(t,i)||(i.preventDefault(),u.show(t,f,c,r,e))})}}}),o("0",["1","2","3","4"],function(n,t,r,e){return t.add("contextmenu",function(t){var u=n(null),o=n(!1);return e.setup(t,o,u),r.get(o)}),function(){}}),e("0")()}();