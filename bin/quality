#!/bin/bash
set -e
cd `dirname $0`/..

find_extensions () {
  find -name "*.$1" -not -path "./vendor/*" -not -path "./public/*"
}

set -v

./bin/haml-lint --exclude-linter LineLength app/views/

./bin/i18n-tasks health

./bin/mdl --style config/markdown $(find_extensions md)

./bin/rails_best_practices --silent

./bin/rake coffeelint

./bin/rubocop --format simple

./bin/scss-lint --exclude-linter IdSelector app/assets/stylesheets/

# Run brakeman last as large output
./bin/brakeman

# Code quality passed
