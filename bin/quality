#!/bin/bash
set -ev

cd `dirname $0`/..

./bin/bundle-audit update
./bin/bundle-audit

./bin/rubocop --format simple

./bin/cane --no-doc

./bin/rails_best_practices --silent --exclude puppet

./bin/rake coffeelint

./bin/haml-lint --exclude-linter LineLength app/views/

./bin/scss-lint --exclude-linter IdSelector app/assets/stylesheets/

./bin/puppet-lint puppet/manifests --fail-on-warnings --with-filename
./bin/puppet-lint puppet/modules_custom --no-documentation-check --fail-on-warnings --with-filename

./bin/brakeman --quiet --exit-on-warn
