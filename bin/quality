#!/bin/bash
set -e
cd `dirname $0`/..

find_extensions () {
  git ls-files | grep "\.$1\$"
}

set -v

./bin/yarn eslint app/webpacker

./bin/yarn stylelint app/webpacker

./bin/i18n-tasks health

./bin/jsonlint $(find_extensions json)

./bin/license_finder

./bin/mdl --style config/markdown $(find_extensions md)

./bin/rubocop --format simple

# Run brakeman last as large output
./bin/brakeman

# Code quality passed
